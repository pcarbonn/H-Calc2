<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Functor.Foldable.TH</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data.Functor.Foldable.TH.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">recursion-schemes-5.0.3: Generalized bananas, lenses and barbed wire</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Functor.Foldable.TH</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:makeBaseFunctor">makeBaseFunctor</a> :: <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Lib-Internal.html#t:DecsQ" title="Language.Haskell.TH.Lib.Internal">DecsQ</a></li><li class="src short"><a href="#v:makeBaseFunctorWith">makeBaseFunctorWith</a> :: <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Lib-Internal.html#t:DecsQ" title="Language.Haskell.TH.Lib.Internal">DecsQ</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:BaseRules">BaseRules</a></li><li class="src short"><a href="#v:baseRules">baseRules</a> :: <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a></li><li class="src short"><a href="#v:baseRulesType">baseRulesType</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a></li><li class="src short"><a href="#v:baseRulesCon">baseRulesCon</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a></li><li class="src short"><a href="#v:baseRulesField">baseRulesField</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:makeBaseFunctor" class="def">makeBaseFunctor</a> :: <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Lib-Internal.html#t:DecsQ" title="Language.Haskell.TH.Lib.Internal">DecsQ</a> <a href="src/Data.Functor.Foldable.TH.html#makeBaseFunctor" class="link">Source</a> <a href="#v:makeBaseFunctor" class="selflink">#</a></p><div class="doc"><p>Build base functor with a sensible default configuration.</p><p><em>e.g.</em></p><pre>data Expr a
    = Lit a
    | Add (Expr a) (Expr a)
    | Expr a :* [Expr a]
  deriving (Show)

<code><a href="Data-Functor-Foldable-TH.html#v:makeBaseFunctor" title="Data.Functor.Foldable.TH">makeBaseFunctor</a></code> ''Expr
</pre><p>will create</p><pre>data ExprF a x
    = LitF a
    | AddF x x
    | x :*$ [x]
  deriving (<code><a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a></code>, <code><a href="../base-4.11.1.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a></code>, <code><a href="../base-4.11.1.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a></code>)

type instance <code>Base</code> (Expr a) = ExprF a

instance <code>Recursive</code> (Expr a) where
    <code>project</code> (Lit x)   = LitF x
    <code>project</code> (Add x y) = AddF x y
    <code>project</code> (x :* y)  = x :*$ y

instance <code>Corecursive</code> (Expr a) where
    <code>embed</code> (LitF x)   = Lit x
    <code>embed</code> (AddF x y) = Add x y
    <code>embed</code> (x :*$ y)  = x :* y
</pre><pre><code><a href="Data-Functor-Foldable-TH.html#v:makeBaseFunctor" title="Data.Functor.Foldable.TH">makeBaseFunctor</a></code> = <code><a href="Data-Functor-Foldable-TH.html#v:makeBaseFunctorWith" title="Data.Functor.Foldable.TH">makeBaseFunctorWith</a></code> <code><a href="Data-Functor-Foldable-TH.html#v:baseRules" title="Data.Functor.Foldable.TH">baseRules</a></code>
</pre><p><em>Notes:</em></p><p><code><a href="Data-Functor-Foldable-TH.html#v:makeBaseFunctor" title="Data.Functor.Foldable.TH">makeBaseFunctor</a></code> works properly only with ADTs.
 Existentials and GADTs aren't supported,
 as we don't try to do better than
 <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/glasgow_exts.html#deriving-functor-instances">GHC's DeriveFunctor</a>.</p></div></div><div class="top"><p class="src"><a id="v:makeBaseFunctorWith" class="def">makeBaseFunctorWith</a> :: <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Lib-Internal.html#t:DecsQ" title="Language.Haskell.TH.Lib.Internal">DecsQ</a> <a href="src/Data.Functor.Foldable.TH.html#makeBaseFunctorWith" class="link">Source</a> <a href="#v:makeBaseFunctorWith" class="selflink">#</a></p><div class="doc"><p>Build base functor with a custom configuration.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BaseRules" class="def">BaseRules</a> <a href="src/Data.Functor.Foldable.TH.html#BaseRules" class="link">Source</a> <a href="#t:BaseRules" class="selflink">#</a></p><div class="doc"><p>Rules of renaming data names</p></div></div><div class="top"><p class="src"><a id="v:baseRules" class="def">baseRules</a> :: <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> <a href="src/Data.Functor.Foldable.TH.html#baseRules" class="link">Source</a> <a href="#v:baseRules" class="selflink">#</a></p><div class="doc"><p>Default <code><a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a></code>: append <code>F</code> or <code>$</code> to data type, constructors and field names.</p></div></div><div class="top"><p class="src"><a id="v:baseRulesType" class="def">baseRulesType</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> <a href="src/Data.Functor.Foldable.TH.html#baseRulesType" class="link">Source</a> <a href="#v:baseRulesType" class="selflink">#</a></p><div class="doc"><p>How to name the base functor type.</p><p>Default is to append <code>F</code> or <code>$</code>.</p></div></div><div class="top"><p class="src"><a id="v:baseRulesCon" class="def">baseRulesCon</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> <a href="src/Data.Functor.Foldable.TH.html#baseRulesCon" class="link">Source</a> <a href="#v:baseRulesCon" class="selflink">#</a></p><div class="doc"><p>How to rename the base functor type constructors.</p><p>Default is to append <code>F</code> or <code>$</code>.</p></div></div><div class="top"><p class="src"><a id="v:baseRulesField" class="def">baseRulesField</a> :: <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; ((<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>) -&gt; f (<a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a> -&gt; <a href="../template-haskell-2.13.0.0/Language-Haskell-TH-Syntax.html#t:Name" title="Language.Haskell.TH.Syntax">Name</a>)) -&gt; <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> -&gt; f <a href="Data-Functor-Foldable-TH.html#t:BaseRules" title="Data.Functor.Foldable.TH">BaseRules</a> <a href="src/Data.Functor.Foldable.TH.html#baseRulesField" class="link">Source</a> <a href="#v:baseRulesField" class="selflink">#</a></p><div class="doc"><p>How to rename the base functor type field names (in records).</p><p>Default is to append <code>F</code> or <code>$</code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>